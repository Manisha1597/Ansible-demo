pipeline {
    agent any
    stages{
        stage('Repo Clone'){
            steps{
                git 'https://github.com/Manisha1597/Ansible-demo.git'
            }
        }
        stage('Trigger playbook') {
            steps {
                 sh "ansible-playbook Playbooks/playbook.yml"
    }
        }    
        stage('Post action') {
            steps {
                echo 'Completed'
            }
        }
        }
post {
     success {
sh "echo 'postbuild'"
publishHTML([allowMissing: false, alwaysLinkToLastBuild: false, keepAll: false, reportDir: '/var/lib/jenkins/workspace/ansible-demo/reports', reportFiles: 'index.html', reportName: 'HTML Report', reportTitles: 'report'])
}
}
}
